module.exports=["aditya","birla","sun","life","active","debt","multi","manager","fof","scheme","growth","advantage","fund","dividend","balanced","'95","payout","banking","&","psu","monthly","weekly","and","financial","services","regular","plan","cash","daily","plus","commodity","equity","global","agri","constant","maturity","10","year","gilt","quarterly","corporate","bond","yield","dynamic","enhanced","arbitrage","savings","planning","aggressive","floating","rate","long","term","reinvestment","short","frontline","pf","instant","gain","real","estate","gold","income","index","india","gennext","opportunities","reforms","infrastructure","international","a","b","manufacturing","medium","half yearly","midcap","mip","ii","5","payment","mnc","wealth","25","new","millenium","pure","value","small","special","situations","tax","relief","96","top","100","treasury","optimizer","axis","half","yearly","saver","fixed","focused","annual","liquid","multicap","triple","baroda","pioneer","balance","credit","linked","saving","large","cap","mid cap","bnp","paribas","flexi","mid","money","boi","axa","conservative","hybrid","risk","rebalancer","ultra","duration","canara","robeco","emerging","equities","diversified","f.o.r.c.e","pgs","indigo","from","instruments","dhfl","pramerica","euro","agribusiness","offshore","inflation","indexed","insta","low","fortnightly","premier","dsp","blackrock","10y","g","sec","asset","allocation","equal","nifty","50","focus","government","securities","t.i.g.e.r.","liquidity","natural","resources","energy","strategic","us","flexible","world","agriculture","mining","franklin","asian","build","bluechip","management","account","accrual","pe","ratio","of","funds","feeder","european","u.s.","composite","high","companies","builder","nse","stage","the","20s","30s","40s","50s","multi asset","solution","pension","prima","option","smaller","taxshield","technology","super","institutional","hdfc","wholesale","capital","call","core","satellite","interest","post","addendum","sensex","multiple","2005","multi cap","prudence","retirement","hybrid debt","hybrid equity","200","icici","prudential","advisor","series","cautious","child","care","gift","study","cumulative","quaterly","exports","other","others","fmcg","investment","stable","indo","asia","moderate","market","automatic","encashment","next","select","discovery","idbi","30","junior","idfc","all","seasons","periodic","classic","plan ","provident","sterling","bimonthly","elss","invesco","bank","retail","business","leaders","contra","exchange","traded","n","pan","kotak","allocator","bi","floater","unit","98","trust","economic","reform","l&t","cycle","businesses","resurgent","ace","semi","lic","mf","children's","mahindra","dhan","sanchay","yojana","bachat","mutual","badhat","kar","unnati","mirae","great","consumer","motilal","oswal","35","principal","smart","reliance","power","sector","reinvest","defined","date","japan","media","entertainment","diviend","pharma","quant","option ","generation","creation","vision","sbi","blue","chip","it","magnum","comma","multiplier","taxgain","1993","sundaram","appreciation","rural","s.m.i.l.e","short term","fortnighty","weight","tata","digital","p/e","trigger","5%","10%","ethical","healthcare","progressive","templeton","uti","flexicap","lifestyle","mastershare","misadvantage","woman","spread","transportation","logistics"]

var words = ["aditya","birla","sun","life","active","debt","multi","manager","fof","scheme","growth","advantage","fund","dividend","balanced","'95","payout","banking","&","psu","monthly","weekly","and","financial","services","regular","plan","cash","daily","plus","commodity","equity","global","agri","constant","maturity","10","year","gilt","quarterly","corporate","bond","yield","dynamic","enhanced","arbitrage","savings","planning","aggressive","floating","rate","long","term","reinvestment","short","frontline","pf","instant","gain","real","estate","gold","income","index","india","gennext","opportunities","reforms","infrastructure","international","a","b","manufacturing","medium","half yearly","midcap","mip","ii","5","payment","mnc","wealth","25","new","millenium","pure","value","small","special","situations","tax","relief","96","top","100","treasury","optimizer","axis","half","yearly","saver","fixed","focused","annual","liquid","multicap","triple","baroda","pioneer","balance","credit","linked","saving","large","cap","mid cap","bnp","paribas","flexi","mid","money","boi","axa","conservative","hybrid","risk","rebalancer","ultra","duration","canara","robeco","emerging","equities","diversified","f.o.r.c.e","pgs","indigo","from","instruments","dhfl","pramerica","euro","agribusiness","offshore","inflation","indexed","insta","low","fortnightly","premier","dsp","blackrock","10y","g","sec","asset","allocation","equal","nifty","50","focus","government","securities","t.i.g.e.r.","liquidity","natural","resources","energy","strategic","us","flexible","world","agriculture","mining","franklin","asian","build","bluechip","management","account","accrual","pe","ratio","of","funds","feeder","european","u.s.","composite","high","companies","builder","nse","stage","the","20s","30s","40s","50s","multi asset","solution","pension","prima","option","smaller","taxshield","technology","super","institutional","hdfc","wholesale","capital","call","core","satellite","interest","post","addendum","sensex","multiple","2005","multi cap","prudence","retirement","hybrid debt","hybrid equity","200","icici","prudential","advisor","series","cautious","child","care","gift","study","cumulative","quaterly","exports","other","others","fmcg","investment","stable","indo","asia","moderate","market","automatic","encashment","next","select","discovery","idbi","30","junior","idfc","all","seasons","periodic","classic","plan ","provident","sterling","bimonthly","elss","invesco","bank","retail","business","leaders","contra","exchange","traded","n","pan","kotak","allocator","bi","floater","unit","98","trust","economic","reform","l&t","cycle","businesses","resurgent","ace","semi","lic","mf","children's","mahindra","dhan","sanchay","yojana","bachat","mutual","badhat","kar","unnati","mirae","great","consumer","motilal","oswal","35","principal","smart","reliance","power","sector","reinvest","defined","date","japan","media","entertainment","diviend","pharma","quant","option ","generation","creation","vision","sbi","blue","chip","it","magnum","comma","multiplier","taxgain","1993","sundaram","appreciation","rural","s.m.i.l.e","short term","fortnighty","weight","tata","digital","p/e","trigger","5%","10%","ethical","healthcare","progressive","templeton","uti","flexicap","lifestyle","mastershare","misadvantage","woman","spread","transportation","logistics"]

var amcNames = [
	"Aditya Birla Sun Life AMC Limited",
	"Axis Asset Management Company Ltd.",
	"Baroda Pioneer Asset Management Company Limited",
	"BNP Paribas Asset Management India Pvt. Ltd.",
	"BOI AXA Investment Managers Private Limited",
	"Canara Robeco Asset Management Company Limited",
	"DHFL Pramerica Asset Managers Private Limited",
	"DSP BlackRock Investment Managers Private Limited",
	"Franklin Templeton Asset Management (India) Private Limited",
	"HDFC Asset Management Company Limited",
	"ICICI Prudential Asset Management Company Limited",
	"IDBI Asset Management Ltd.",
	"IDFC Asset Management Company Limited",
	"Invesco Asset Management Company Pvt Ltd.",
	"Kotak Mahindra Asset Management Company Limited",
	"L&T Investment Management Limited",
	"LIC Mutual Fund Asset Management Limited",
	"Mahindra Asset Management Company Private Limited",
	"Mirae Asset Global Investment Management (India) Private Limited",
	"Motilal Oswal Asset Management Company Limited",
	"Principal Pnb Asset Management Company Private Limited",
	"Reliance Nippon Life Asset Management Limited",
	"SBI Funds Management Private Limited",
	"Sundaram Asset Management Company Limited",
	"Tata Asset Management Limited",
	"UTI Asset Management Company Private Limited"
]

var amc = [
  'kotak',
  'birla',
  'sun life',
  'aditya',
  'sundaram',
  'sbi',
  'uti',
  'dsp',
  'black rock',
  'blackrock',
  'franklin',
  'templeton',
  'tata',
  'reliance',
  'idbi',
  'icici',
  'hdfc',
  'lic',
  'axis',
  'l&t',
  'lnt',
  'l and t',
  'bnp',
  'paribas',
  'baroda',
  'pioneer',
  'idfc',
  'invesco',
  'boi',
  'axa',
  'canara',
  'robeco',
  'dhfl',
  'pramerica',
  'mirae',
  'mahindra',
  'motilal',
  'oswal',
  'principal pnb' 
  ]

var stringSimilarity = require('string-similarity');
var sortBy = require('sort-by')
var schemes = require('./new.json')
var schemeNames = Object.keys(schemes)
var sch = []

let str = 'i wish to invest daily amount of rs 95 in franklin templeton bluechip fund'


       let wordsInUserSays=str.split(" ");
		let count=0;
		let startIndex;
		let endIndex;
		let amcIndex;
		let amcFlag;
		for(let wordIndex in wordsInUserSays){

			if(words.includes(wordsInUserSays[wordIndex])){
				count++;
				if(count==1){
					startIndex=wordIndex;
					endIndex=wordIndex;
				}
				else{
					endIndex=wordIndex;
				}
			}
			if(amc.includes(wordsInUserSays[wordIndex])&&!amcFlag){
				amcIndex=wordIndex;
				amcFlag=true;
				console.log("found amc "+wordsInUserSays[wordIndex])
			}
		}

		if(amcFlag){
			// startIndex=amcIndex
		}

		if(count>0){
			let searchTerm=""
			for(let i=parseInt(startIndex);i<=parseInt(endIndex);i++){
				searchTerm+=wordsInUserSays[i]+" "
			}
			searchTerm=searchTerm.trim();
			console.log(searchTerm)
			sch = []
			let matches = stringSimilarity.findBestMatch(searchTerm, schemeNames)
			if(matches.bestMatch.rating>0.9){
				sch.push(bestMatch)
			}
			else{
				matches.ratings=matches.ratings.sort(sortBy('-rating'));
				sch = matches.ratings.splice(0,9);
			}
		}
console.log(sch)